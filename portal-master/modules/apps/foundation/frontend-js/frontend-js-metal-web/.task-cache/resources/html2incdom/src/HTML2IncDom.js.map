{"version":3,"sources":["/source/HTML2IncDom.js"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;AAIA,KAAI,OAAJ;;KAEM,W;;;;;cAQE,O,oBAAQ,I,EAAM;AACpB,UAAO;AAAA,WAAM,YAAY,GAAZ,CAAgB,IAAhB,CAAN;AAAA,IAAP;AACA,G;;cAMM,S,wBAAY;AAClB,UAAO,WAAW,OAAO,UAAzB;AACA,G;;cAMM,G,gBAAI,I,EAAM;AAChB,eAAY,SAAZ,GAAwB,IAAxB,EAA8B;AAC7B,WAAO,eAAS,GAAT,EAAc,KAAd,EAAqB,KAArB,EAA4B;AAClC,SAAI,KAAK,QAAQ,eAAe,WAAvB,GAAqC,eAAe,WAA7D;AACA,SAAI,OAAO,CACV,GADU,EAEV,IAFU,EAGV,EAHU,CAAX;AAKA,UAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,MAAM,MAA1B,EAAkC,GAAlC,EAAuC;AACtC,WAAK,IAAL,CAAU,MAAM,CAAN,EAAS,IAAnB,EAAyB,MAAM,CAAN,EAAS,KAAlC;AACA;AACD,QAAG,KAAH,CAAS,IAAT,EAAe,IAAf;AACA,KAZ4B;;AAc7B,SAAK,aAAS,GAAT,EAAc;AAClB,oBAAe,YAAf,CAA4B,GAA5B;AACA,KAhB4B;;AAkB7B,WAAO,eAAS,IAAT,EAAe;AACrB,oBAAe,IAAf,CAAoB,IAApB;AACA;AApB4B,IAA9B;AAsBA,G;;cAWM,S,sBAAU,S,EAAW;AAC3B,aAAU,SAAV;AACA,G;;;;;mBAGa,W","sourcesContent":["'use strict';\n\nimport unescape from './unescape';\n\nvar parser_;\n\nclass HTML2IncDom {\n\t/**\n\t * Should convert the given html string to a function with calls to\n\t * incremental dom methods.\n\t * @param {string} html\n\t * @return {!function()} Function with incremental dom calls for building\n\t *     the given html string.\n\t */\n\tstatic buildFn(html) {\n\t\treturn () => HTML2IncDom.run(html);\n\t}\n\n\t/**\n\t * Gets the html parser being currently used.\n\t * @return {!function()}\n\t */\n\tstatic getParser() {\n\t\treturn parser_ || window.HTMLParser;\n\t}\n\n\t/**\n\t * Should convert the given html string to calls to incremental dom methods.\n\t * @param {string} html\n\t */\n\tstatic run(html) {\n\t\tHTML2IncDom.getParser()(html, {\n\t\t\tstart: function(tag, attrs, unary) {\n\t\t\t\tvar fn = unary ? IncrementalDOM.elementVoid : IncrementalDOM.elementOpen;\n\t\t\t\tvar args = [\n\t\t\t\t\ttag,\n\t\t\t\t\tnull,\n\t\t\t\t\t[]\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < attrs.length; i++) {\n\t\t\t\t\targs.push(attrs[i].name, attrs[i].value);\n\t\t\t\t}\n\t\t\t\tfn.apply(null, args);\n\t\t\t},\n\n\t\t\tend: function(tag) {\n\t\t\t\tIncrementalDOM.elementClose(tag);\n\t\t\t},\n\n\t\t\tchars: function(text) {\n\t\t\t\tIncrementalDOM.text(text, unescape);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Changes the function that will be used to parse html strings. By default\n\t * this will use the `HTMLParser` function from\n\t * https://github.com/blowsie/Pure-JavaScript-HTML5-Parser. This will accept\n\t * any function that follows that same api, basically accepting the html\n\t * string and an object with `start`, `end` and `chars` functions to be called\n\t * during the parsing.\n\t * @param {!function(string, !Object} newParser\n\t */\n\tstatic setParser(newParser) {\n\t\tparser_ = newParser;\n\t}\n}\n\nexport default HTML2IncDom;\n"]}