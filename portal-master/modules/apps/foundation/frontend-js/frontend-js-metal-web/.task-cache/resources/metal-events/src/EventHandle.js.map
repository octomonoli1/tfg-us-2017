{"version":3,"sources":["/source/EventHandle.js"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAgBM,W;;;AACL,uBAAY,OAAZ,EAAqB,KAArB,EAA4B,QAA5B,EAAsC;AAAA;;AAAA,gDACrC,sBADqC;;;;;;;AAQrC,SAAK,QAAL,GAAgB,OAAhB;;;;;;;AAOA,SAAK,MAAL,GAAc,KAAd;;;;;;;AAOA,SAAK,SAAL,GAAiB,QAAjB;AAtBqC;AAuBrC;;;;;;;;wBAMD,e,8BAAkB;AACjB,QAAK,cAAL;AACA,QAAK,QAAL,GAAgB,IAAhB;AACA,QAAK,SAAL,GAAiB,IAAjB;AACA,G;;wBAKD,c,6BAAiB;AAChB,OAAI,CAAC,KAAK,QAAL,CAAc,UAAd,EAAL,EAAiC;AAChC,SAAK,QAAL,CAAc,cAAd,CAA6B,KAAK,MAAlC,EAA0C,KAAK,SAA/C;AACA;AACD,G;;;;;mBAGa,W","sourcesContent":["'use strict';\n\nimport { Disposable } from 'metal';\n\n/**\n * EventHandle utility. Holds information about an event subscription, and\n * allows removing them easily.\n * EventHandle is a Disposable, but it's important to note that the\n * EventEmitter that created it is not the one responsible for disposing it.\n * That responsibility is for the code that holds a reference to it.\n * @param {!EventEmitter} emitter Emitter the event was subscribed to.\n * @param {string} event The name of the event that was subscribed to.\n * @param {!Function} listener The listener subscribed to the event.\n * @constructor\n * @extends {Disposable}\n */\nclass EventHandle extends Disposable {\n\tconstructor(emitter, event, listener) {\n\t\tsuper();\n\n\t\t/**\n\t\t * The EventEmitter instance that the event was subscribed to.\n\t\t * @type {EventEmitter}\n\t\t * @protected\n\t\t */\n\t\tthis.emitter_ = emitter;\n\n\t\t/**\n\t\t * The name of the event that was subscribed to.\n\t\t * @type {string}\n\t\t * @protected\n\t\t */\n\t\tthis.event_ = event;\n\n\t\t/**\n\t\t * The listener subscribed to the event.\n\t\t * @type {Function}\n\t\t * @protected\n\t\t */\n\t\tthis.listener_ = listener;\n\t}\n\n\t/**\n\t * Disposes of this instance's object references.\n\t * @override\n\t */\n\tdisposeInternal() {\n\t\tthis.removeListener();\n\t\tthis.emitter_ = null;\n\t\tthis.listener_ = null;\n\t}\n\n\t/**\n\t * Removes the listener subscription from the emitter.\n\t */\n\tremoveListener() {\n\t\tif (!this.emitter_.isDisposed()) {\n\t\t\tthis.emitter_.removeListener(this.event_, this.listener_);\n\t\t}\n\t}\n}\n\nexport default EventHandle;\n"]}