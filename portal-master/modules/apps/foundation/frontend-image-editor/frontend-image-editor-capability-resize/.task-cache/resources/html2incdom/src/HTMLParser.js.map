{"version":3,"sources":["HTMLParser.js"],"names":[],"mappings":"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","file":"../../../node_modules/html2incdom/src/HTMLParser.js","sourcesContent":["/* jshint ignore:start */\n\n/*\n * HTML5 Parser By Sam Blowes\n *\n * Designed for HTML5 documents\n *\n * Original code by John Resig (ejohn.org)\n * http://ejohn.org/blog/pure-javascript-html-parser/\n * Original code by Erik Arvidsson, Mozilla Public License\n * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js\n *\n * ----------------------------------------------------------------------------\n * License\n * ----------------------------------------------------------------------------\n *\n * This code is triple licensed using Apache Software License 2.0,\n * Mozilla Public License or GNU Public License\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License.  You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * The contents of this file are subject to the Mozilla Public License\n * Version 1.1 (the \"License\"); you may not use this file except in\n * compliance with the License. You may obtain a copy of the License at\n * http://www.mozilla.org/MPL/\n *\n * Software distributed under the License is distributed on an \"AS IS\"\n * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the\n * License for the specific language governing rights and limitations\n * under the License.\n *\n * The Original Code is Simple HTML Parser.\n *\n * The Initial Developer of the Original Code is Erik Arvidsson.\n * Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights\n * Reserved.\n *\n * ////////////////////////////////////////////////////////////////////////////\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; either version 2\n * of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n * @license\n */\n\n/*\n *\n * ----------------------------------------------------------------------------\n * Usage\n * ----------------------------------------------------------------------------\n *\n * // Use like so:\n * HTMLParser(htmlString, {\n *     start: function(tag, attrs, unary) {},\n *     end: function(tag) {},\n *     chars: function(text) {},\n *     comment: function(text) {}\n * });\n *\n * // or to get an XML string:\n * HTMLtoXML(htmlString);\n *\n * // or to get an XML DOM Document\n * HTMLtoDOM(htmlString);\n *\n * // or to inject into an existing document/DOM node\n * HTMLtoDOM(htmlString, document);\n * HTMLtoDOM(htmlString, document.body);\n *\n */\n\n(function () {\n\t// Regular Expressions for parsing tags and attributes\n\tvar startTag = /^<([-A-Za-z0-9_]+)((?:\\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/,\n\t\tendTag = /^<\\/([-A-Za-z0-9_]+)[^>]*>/,\n\t\tattr = /([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\n\n\t// Empty Elements - HTML 5\n\tvar empty = makeMap(\"area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr\");\n\n\t// Block Elements - HTML 5\n\tvar block = makeMap(\"a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video\");\n\n\t// Inline Elements - HTML 5\n\tvar inline = makeMap(\"abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var\");\n\n\t// Elements that you can, intentionally, leave open\n\t// (and which close themselves)\n\tvar closeSelf = makeMap(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr\");\n\n\t// Attributes that have their values filled in disabled=\"disabled\"\n\tvar fillAttrs = makeMap(\"checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected\");\n\n\t// Special Elements (can contain anything)\n\tvar special = makeMap(\"script,style\");\n\n\tvar HTMLParser = window.HTMLParser = function (html, handler) {\n\t\tvar index, chars, match, stack = [], last = html;\n\t\tstack.last = function () {\n\t\t\treturn this[this.length - 1];\n\t\t};\n\n\t\twhile (html) {\n\t\t\tchars = true;\n\n\t\t\t// Make sure we're not in a script or style element\n\t\t\tif (!stack.last() || !special[stack.last()]) {\n\n\t\t\t\t// Comment\n\t\t\t\tif (html.indexOf(\"<!--\") == 0) {\n\t\t\t\t\tindex = html.indexOf(\"-->\");\n\n\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\tif (handler.comment)\n\t\t\t\t\t\t\thandler.comment(html.substring(4, index));\n\t\t\t\t\t\thtml = html.substring(index + 3);\n\t\t\t\t\t\tchars = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// end tag\n\t\t\t\t} else if (html.indexOf(\"</\") == 0) {\n\t\t\t\t\tmatch = html.match(endTag);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\thtml = html.substring(match[0].length);\n\t\t\t\t\t\tmatch[0].replace(endTag, parseEndTag);\n\t\t\t\t\t\tchars = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// start tag\n\t\t\t\t} else if (html.indexOf(\"<\") == 0) {\n\t\t\t\t\tmatch = html.match(startTag);\n\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\thtml = html.substring(match[0].length);\n\t\t\t\t\t\tmatch[0].replace(startTag, parseStartTag);\n\t\t\t\t\t\tchars = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (chars) {\n\t\t\t\t\tindex = html.indexOf(\"<\");\n\n\t\t\t\t\tvar text = index < 0 ? html : html.substring(0, index);\n\t\t\t\t\thtml = index < 0 ? \"\" : html.substring(index);\n\n\t\t\t\t\tif (handler.chars)\n\t\t\t\t\t\thandler.chars(text);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\thtml = html.replace(new RegExp(\"([\\\\s\\\\S]*?)<\\/\" + stack.last() + \"[^>]*>\"), function (all, text) {\n\t\t\t\t\ttext = text.replace(/<!--([\\s\\S]*?)-->|<!\\[CDATA\\[([\\s\\S]*?)]]>/g, \"$1$2\");\n\t\t\t\t\tif (handler.chars)\n\t\t\t\t\t\thandler.chars(text);\n\n\t\t\t\t\treturn \"\";\n\t\t\t\t});\n\n\t\t\t\tparseEndTag(\"\", stack.last());\n\t\t\t}\n\n\t\t\tif (html == last)\n\t\t\t\tthrow \"Parse Error: \" + html;\n\t\t\tlast = html;\n\t\t}\n\n\t\t// Clean up any remaining tags\n\t\tparseEndTag();\n\n\t\tfunction parseStartTag(tag, tagName, rest, unary) {\n\t\t\ttagName = tagName.toLowerCase();\n\n\t\t\tif (block[tagName]) {\n\t\t\t\twhile (stack.last() && inline[stack.last()]) {\n\t\t\t\t\tparseEndTag(\"\", stack.last());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (closeSelf[tagName] && stack.last() == tagName) {\n\t\t\t\tparseEndTag(\"\", tagName);\n\t\t\t}\n\n\t\t\tunary = empty[tagName] || !!unary;\n\n\t\t\tif (!unary)\n\t\t\t\tstack.push(tagName);\n\n\t\t\tif (handler.start) {\n\t\t\t\tvar attrs = [];\n\n\t\t\t\trest.replace(attr, function (match, name) {\n\t\t\t\t\tvar value = arguments[2] ? arguments[2] :\n\t\t\t\t\t\targuments[3] ? arguments[3] :\n\t\t\t\t\t\targuments[4] ? arguments[4] :\n\t\t\t\t\t\tfillAttrs[name] ? name : \"\";\n\n\t\t\t\t\tattrs.push({\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tescaped: value.replace(/(^|[^\\\\])\"/g, '$1\\\\\\\"') //\"\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tif (handler.start)\n\t\t\t\t\thandler.start(tagName, attrs, unary);\n\t\t\t}\n\t\t}\n\n\t\tfunction parseEndTag(tag, tagName) {\n\t\t\t// If no tag name is provided, clean shop\n\t\t\tif (!tagName)\n\t\t\t\tvar pos = 0;\n\n\t\t\t\t// Find the closest opened tag of the same type\n\t\t\telse\n\t\t\t\tfor (var pos = stack.length - 1; pos >= 0; pos--)\n\t\t\t\t\tif (stack[pos] == tagName)\n\t\t\t\t\t\tbreak;\n\n\t\t\tif (pos >= 0) {\n\t\t\t\t// Close all the open elements, up the stack\n\t\t\t\tfor (var i = stack.length - 1; i >= pos; i--)\n\t\t\t\t\tif (handler.end)\n\t\t\t\t\t\thandler.end(stack[i]);\n\n\t\t\t\t// Remove the open elements from the stack\n\t\t\t\tstack.length = pos;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction makeMap(str) {\n\t\tvar obj = {}, items = str.split(\",\");\n\t\tfor (var i = 0; i < items.length; i++)\n\t\t\tobj[items[i]] = true;\n\t\treturn obj;\n\t}\n}).call(this);\n\n/* jshint ignore:end */\n"],"sourceRoot":"/source/"}