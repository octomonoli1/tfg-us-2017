{"version":3,"sources":["DomDelegatedEventHandle.js"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAWM;;;;;;;;;;;;;AAUL,WAVK,uBAUL,CAAY,OAAZ,EAAqB,KAArB,EAA4B,QAA5B,EAAsC,YAAtC,EAAoD;yBAV/C,yBAU+C;;gDACnD,wBAAM,OAAN,EAAe,KAAf,EAAsB,QAAtB,GADmD;;AAEnD,SAAK,SAAL,GAAiB,YAAjB,CAFmD;;GAApD;;;;;;;AAVK,oCAkBL,2CAAiB;AAChB,OAAI,OAAO,kBAAQ,GAAR,CAAY,KAAK,QAAL,CAAnB,CADY;AAEhB,OAAI,WAAW,KAAK,SAAL,CAFC;AAGhB,OAAI,MAAM,YAAK,QAAL,CAAc,QAAd,IAA0B,KAAK,UAAL,CAAgB,KAAK,MAAL,CAAhB,CAA6B,SAA7B,GAAyC,KAAK,SAAL,CAH7D;AAIhB,OAAI,MAAM,YAAK,QAAL,CAAc,QAAd,IAA0B,QAA1B,GAAqC,KAAK,MAAL,CAJ/B;;AAMhB,gBAAM,MAAN,CAAa,IAAI,GAAJ,KAAY,EAAZ,EAAgB,KAAK,SAAL,CAA7B,CANgB;AAOhB,OAAI,IAAI,GAAJ,KAAY,IAAI,GAAJ,EAAS,MAAT,KAAoB,CAApB,EAAuB;AACtC,WAAO,IAAI,GAAJ,CAAP,CADsC;IAAvC;;;SAzBI;;;mBA+BS","file":"../../../node_modules/metal-dom/src/DomDelegatedEventHandle.js","sourcesContent":["'use strict';\n\nimport { array, core } from 'metal';\nimport domData from './domData';\nimport { EventHandle } from 'metal-events';\n\n/**\n * This is a special EventHandle, that is responsible for dom delegated events\n * (only the ones that receive a target element, not a selector string).\n * @extends {EventHandle}\n */\nclass DomDelegatedEventHandle extends EventHandle {\n\t/**\n\t * The constructor for `DomDelegatedEventHandle`.\n\t * @param {!Event} emitter Element the event was subscribed to.\n\t * @param {string} event The name of the event that was subscribed to.\n\t * @param {!Function} listener The listener subscribed to the event.\n\t * @param {string=} opt_selector An optional selector used when delegating\n\t *     the event.\n\t * @constructor\n\t */\n\tconstructor(emitter, event, listener, opt_selector) {\n\t\tsuper(emitter, event, listener);\n\t\tthis.selector_ = opt_selector;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tremoveListener() {\n\t\tvar data = domData.get(this.emitter_);\n\t\tvar selector = this.selector_;\n\t\tvar arr = core.isString(selector) ? data.delegating[this.event_].selectors : data.listeners;\n\t\tvar key = core.isString(selector) ? selector : this.event_;\n\n\t\tarray.remove(arr[key] || [], this.listener_);\n\t\tif (arr[key] && arr[key].length === 0) {\n\t\t\tdelete arr[key];\n\t\t}\n\t}\n}\n\nexport default DomDelegatedEventHandle;\n"],"sourceRoot":"/source/"}