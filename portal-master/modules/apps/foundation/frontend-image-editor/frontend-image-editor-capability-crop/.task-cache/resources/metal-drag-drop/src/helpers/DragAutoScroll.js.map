{"version":3,"sources":["DragAutoScroll.js"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAUM;;;;;;;AAIL,WAJK,cAIL,CAAY,UAAZ,EAAwB;yBAJnB,gBAImB;;gDACvB,kBAAM,UAAN,GADuB;;;;;;;AAQvB,SAAK,cAAL,GAAsB,IAAtB,CARuB;;GAAxB;;;;;;;AAJK,2BAkBL,6CAAkB;AACjB,oBAAM,eAAN,YADiB;AAEjB,QAAK,IAAL,GAFiB;;;AAlBb,2BA6BL,2DAAwB,iBAAiB;AACxC,OAAI,gBAAK,UAAL,CAAgB,eAAhB,CAAJ,EAAsC;AACrC,QAAI,SAAS,OAAO,WAAP,CADwB;AAErC,QAAI,QAAQ,OAAO,UAAP,CAFyB;AAGrC,WAAO,mBAAS,UAAT,CAAoB,MAApB,EAA4B,MAA5B,EAAoC,CAApC,EAAuC,KAAvC,EAA8C,CAA9C,EAAiD,KAAjD,CAAP,CAHqC;IAAtC,MAIO;AACN,WAAO,mBAAS,SAAT,CAAmB,eAAnB,CAAP,CADM;IAJP;;;AA9BI,2BA6CL,yBAAO,kBAAkB,QAAQ,QAAQ;AACxC,QAAK,IAAL,GADwC;AAExC,QAAK,cAAL,GAAsB,WACrB,KAAK,eAAL,CAAqB,IAArB,CAA0B,IAA1B,EAAgC,gBAAhC,EAAkD,MAAlD,EAA0D,MAA1D,CADqB,EAErB,KAAK,KAAL,CAFD,CAFwC;;;AA7CpC,2BA4DL,yCAAe,SAAS,QAAQ,QAAQ;AACvC,OAAI,gBAAK,UAAL,CAAgB,OAAhB,CAAJ,EAA8B;AAC7B,WAAO,QAAP,CAAgB,MAAhB,EAAwB,MAAxB,EAD6B;IAA9B,MAEO;AACN,YAAQ,SAAR,IAAqB,MAArB,CADM;AAEN,YAAQ,UAAR,IAAsB,MAAtB,CAFM;IAFP;;;AA7DI,2BA4EL,2CAAgB,kBAAkB,QAAQ,QAAQ;AACjD,QAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,iBAAiB,MAAjB,EAAyB,GAA7C,EAAkD;AACjD,QAAI,eAAe,KAAK,uBAAL,CAA6B,iBAAiB,CAAjB,CAA7B,CAAf,CAD6C;AAEjD,QAAI,CAAC,mBAAS,iBAAT,CAA2B,MAA3B,EAAmC,MAAnC,EAA2C,YAA3C,CAAD,EAA2D;AAC9D,cAD8D;KAA/D;;AAIA,QAAI,SAAS,CAAT,CAN6C;AAOjD,QAAI,SAAS,CAAT,CAP6C;AAQjD,QAAI,YAAY,mBAAS,YAAT,CAAsB,iBAAiB,CAAjB,CAAtB,CAAZ,CAR6C;AASjD,QAAI,aAAa,mBAAS,aAAT,CAAuB,iBAAiB,CAAjB,CAAvB,CAAb,CAT6C;AAUjD,QAAI,aAAa,CAAb,IAAkB,KAAK,GAAL,CAAS,SAAS,aAAa,IAAb,CAAlB,IAAwC,KAAK,WAAL,EAAkB;AAC/E,eAAU,KAAK,KAAL,CADqE;KAAhF,MAEO,IAAI,KAAK,GAAL,CAAS,SAAS,aAAa,KAAb,CAAlB,IAAyC,KAAK,WAAL,EAAkB;AACrE,eAAU,KAAK,KAAL,CAD2D;KAA/D;AAGP,QAAI,YAAY,CAAZ,IAAiB,KAAK,GAAL,CAAS,SAAS,aAAa,GAAb,CAAlB,IAAuC,KAAK,WAAL,EAAkB;AAC7E,eAAU,KAAK,KAAL,CADmE;KAA9E,MAEO,IAAI,KAAK,GAAL,CAAS,SAAS,aAAa,MAAb,CAAlB,IAA0C,KAAK,WAAL,EAAkB;AACtE,eAAU,KAAK,KAAL,CAD4D;KAAhE;;AAIP,QAAI,UAAU,MAAV,EAAkB;AACrB,UAAK,cAAL,CAAoB,iBAAiB,CAAjB,CAApB,EAAyC,MAAzC,EAAiD,MAAjD,EADqB;AAErB,UAAK,MAAL,CAAY,gBAAZ,EAA8B,MAA9B,EAAsC,MAAtC,EAFqB;AAGrB,WAHqB;KAAtB;IArBD;;;AA7EI,2BA6GL,uBAAO;AACN,gBAAa,KAAK,cAAL,CAAb,CADM;;;SA7GF;;;;;;;;AAuHN,gBAAe,KAAf,GAAuB;;;;;;AAMtB,SAAO;AACN,cAAW,gBAAK,QAAL;AACX,UAAO,EAAP;GAFD;;;;;;;;AAWA,eAAa;AACZ,cAAW,gBAAK,QAAL;AACX,UAAO,EAAP;GAFD;;;;;;;AAUA,SAAO;AACN,cAAW,gBAAK,QAAL;AACX,UAAO,EAAP;GAFD;EA3BD;;mBAiCe","file":"../../../node_modules/metal-drag-drop/src/helpers/DragAutoScroll.js","sourcesContent":["'use strict';\n\nimport core from 'metal';\nimport State from 'metal-state';\nimport Position from 'metal-position';\n\n/**\n * Helper called by the `Drag` instance that scrolls elements when the\n * mouse is near their boundaries.\n */\nclass DragAutoScroll extends State {\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor(opt_config) {\n\t\tsuper(opt_config);\n\n\t\t/**\n\t\t * The handler for the current call to `setTimeout`.\n\t\t * @type {?number}\n\t\t * @protected\n\t\t */\n\t\tthis.scrollTimeout_ = null;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tsuper.disposeInternal();\n\t\tthis.stop();\n\t}\n\n\t/**\n\t * Gets the region for the given scroll container, without including scroll.\n\t * @param {!Element} scrollContainer\n\t * @return {!Object}\n\t * @protected\n\t */\n\tgetRegionWithoutScroll_(scrollContainer) {\n\t\tif (core.isDocument(scrollContainer)) {\n\t\t\tvar height = window.innerHeight;\n\t\t\tvar width = window.innerWidth;\n\t\t\treturn Position.makeRegion(height, height, 0, width, 0, width);\n\t\t} else {\n\t\t\treturn Position.getRegion(scrollContainer);\n\t\t}\n\t}\n\n\t/**\n\t * Schedules a function to scroll the given containers.\n\t * @param {!Array<!Element>} scrollContainers\n\t * @param {number} mouseX\n\t * @param {number} mouseY\n\t */\n\tscroll(scrollContainers, mouseX, mouseY) {\n\t\tthis.stop();\n\t\tthis.scrollTimeout_ = setTimeout(\n\t\t\tthis.scrollInternal_.bind(this, scrollContainers, mouseX, mouseY),\n\t\t\tthis.delay\n\t\t);\n\t}\n\n\t/**\n\t * Adds the given deltas to the given element's scroll position.\n\t * @param {!Element} element\n\t * @param {number} deltaX\n\t * @param {number} deltaY\n\t * @protected\n\t */\n\tscrollElement_(element, deltaX, deltaY) {\n\t\tif (core.isDocument(element)) {\n\t\t\twindow.scrollBy(deltaX, deltaY);\n\t\t} else {\n\t\t\telement.scrollTop += deltaY;\n\t\t\telement.scrollLeft += deltaX;\n\t\t}\n\t}\n\n\t/**\n\t * Scrolls the given containers if the mouse is near their boundaries.\n\t * @param {!Array<!Element>} scrollContainers\n\t * @param {number} mouseX\n\t * @param {number} mouseY\n\t * @protected\n\t */\n\tscrollInternal_(scrollContainers, mouseX, mouseY) {\n\t\tfor (var i = 0; i < scrollContainers.length; i++) {\n\t\t\tvar scrollRegion = this.getRegionWithoutScroll_(scrollContainers[i]);\n\t\t\tif (!Position.pointInsideRegion(mouseX, mouseY, scrollRegion)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar deltaX = 0;\n\t\t\tvar deltaY = 0;\n\t\t\tvar scrollTop = Position.getScrollTop(scrollContainers[i]);\n\t\t\tvar scrollLeft = Position.getScrollLeft(scrollContainers[i]);\n\t\t\tif (scrollLeft > 0 && Math.abs(mouseX - scrollRegion.left) <= this.maxDistance) {\n\t\t\t\tdeltaX -= this.speed;\n\t\t\t} else if (Math.abs(mouseX - scrollRegion.right) <= this.maxDistance) {\n\t\t\t\tdeltaX += this.speed;\n\t\t\t}\n\t\t\tif (scrollTop > 0 && Math.abs(mouseY - scrollRegion.top) <= this.maxDistance) {\n\t\t\t\tdeltaY -= this.speed;\n\t\t\t} else if (Math.abs(mouseY - scrollRegion.bottom) <= this.maxDistance) {\n\t\t\t\tdeltaY += this.speed;\n\t\t\t}\n\n\t\t\tif (deltaX || deltaY) {\n\t\t\t\tthis.scrollElement_(scrollContainers[i], deltaX, deltaY);\n\t\t\t\tthis.scroll(scrollContainers, mouseX, mouseY);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Stops any auto scrolling that was scheduled to happen in the future.\n\t */\n\tstop() {\n\t\tclearTimeout(this.scrollTimeout_);\n\t}\n}\n\n/**\n * State definition.\n * @type {!Object}\n * @static\n */\nDragAutoScroll.STATE = {\n\t/**\n\t * The delay in ms before an element is scrolled automatically.\n\t * @type {number}\n\t * @default 200\n\t */\n\tdelay: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 50\n\t},\n\n\t/**\n\t * The maximum distance the mouse needs to be from an element before\n\t * it will be scrolled automatically.\n\t * @type {number}\n\t * @default 10\n\t */\n\tmaxDistance: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 20\n\t},\n\n\t/**\n\t * The number of pixels that will be scrolled each time.\n\t * @type {number}\n\t * @default 10\n\t */\n\tspeed: {\n\t\tvalidator: core.isNumber,\n\t\tvalue: 20\n\t}\n};\n\nexport default DragAutoScroll;\n"],"sourceRoot":"/source/"}